{"version":3,"sources":["../../../../dist-tsc/schemas/main/CryptoHorse/index.js"],"names":["Object","defineProperty","exports","value","typed_promisify_1","require","Web3","types_1","CryptoHorseSchema","version","deploymentBlock","name","description","thumbnail","website","fields","type","assetFromFields","ID","assetToFields","asset","formatter","web3","abi","contract","eth","at","promisify","call","data","generation","title","url","properties","functions","transfer","AbiType","Function","payable","constant","stateMutability","StateMutability","Nonpayable","target","inputs","kind","FunctionInputKind","Replaceable","Asset","outputs","ownerOf","View","FunctionOutputKind","Owner","Other","assetsOfOwnerByIndex","events","Event","anonymous","EventInputKind","Source","indexed","Destination","assetFromInputs","tokenId","hash","a"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typed_promisify_1 = require(\"typed-promisify\");\nconst Web3 = require(\"web3\");\nconst types_1 = require(\"../../../types\");\nexports.CryptoHorseSchema = {\n    version: 2,\n    deploymentBlock: 4979255,\n    name: 'CryptoHorse',\n    description: 'Collectible and breedable blockchain horses',\n    thumbnail: 'https://www.cryptohorse.ch/logo.svg',\n    website: 'https://www.cryptohorse.ch/',\n    fields: [\n        { name: 'ID', type: 'uint256', description: 'CryptoHorse number.' },\n    ],\n    assetFromFields: (fields) => fields.ID,\n    assetToFields: asset => ({ ID: asset }),\n    formatter: async (asset, web3) => {\n        const abi = { 'constant': true, 'inputs': [{ 'name': '_id', 'type': 'uint256' }], 'name': 'getHorse', 'outputs': [{ 'name': 'price', 'type': 'uint256' }, { 'name': 'id', 'type': 'uint256' }, { 'name': 'forSale', 'type': 'bool' }, { 'name': 'isGestating', 'type': 'bool' }, { 'name': 'isReady', 'type': 'bool' }, { 'name': 'unproductiveIndex', 'type': 'uint256' }, { 'name': 'nextActionAt', 'type': 'uint256' }, { 'name': 'stallionWithId', 'type': 'uint256' }, { 'name': 'birthTime', 'type': 'uint256' }, { 'name': 'mareId', 'type': 'uint256' }, { 'name': 'stallionId', 'type': 'uint256' }, { 'name': 'generation', 'type': 'uint256' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' };\n        const contract = web3.eth.contract([abi]).at('0xB88924408A95917c75DE67fc9FbdC4Af992979c3');\n        const data = await typed_promisify_1.promisify(contract[abi.name].call)(asset);\n        const generation = data[11];\n        return {\n            thumbnail: 'https://www.cryptohorse.ch/logo.svg',\n            title: 'CryptoHorse #' + asset,\n            description: 'Generation: ' + generation,\n            url: 'https://www.cryptohorse.ch/',\n            properties: [],\n        };\n    },\n    functions: {\n        transfer: asset => ({\n            type: Web3.AbiType.Function,\n            name: 'transfer',\n            payable: false,\n            constant: false,\n            stateMutability: types_1.StateMutability.Nonpayable,\n            target: '0xB88924408A95917c75DE67fc9FbdC4Af992979c3',\n            inputs: [\n                { kind: types_1.FunctionInputKind.Replaceable, name: '_to', type: 'address' },\n                { kind: types_1.FunctionInputKind.Asset, name: '_tokenId', type: 'uint256', value: asset },\n            ],\n            outputs: [],\n        }),\n        ownerOf: asset => ({\n            type: Web3.AbiType.Function,\n            name: 'ownerOf',\n            payable: false,\n            constant: true,\n            stateMutability: types_1.StateMutability.View,\n            target: '0xB88924408A95917c75DE67fc9FbdC4Af992979c3',\n            inputs: [\n                { kind: types_1.FunctionInputKind.Asset, name: '_tokenId', type: 'uint256', value: asset },\n            ],\n            outputs: [\n                { kind: types_1.FunctionOutputKind.Owner, name: 'owner', type: 'address' },\n                { kind: types_1.FunctionOutputKind.Other, name: 'tokenId', type: 'uint256' },\n            ],\n        }),\n        assetsOfOwnerByIndex: [],\n    },\n    events: {\n        transfer: [{\n                type: Web3.AbiType.Event,\n                name: 'Transfer',\n                target: '0xB88924408A95917c75DE67fc9FbdC4Af992979c3',\n                anonymous: false,\n                inputs: [\n                    { kind: types_1.EventInputKind.Source, indexed: false, name: 'from', type: 'address' },\n                    { kind: types_1.EventInputKind.Destination, indexed: false, name: 'to', type: 'address' },\n                    { kind: types_1.EventInputKind.Asset, indexed: false, name: 'tokenId', type: 'uint256' },\n                ],\n                assetFromInputs: async (inputs) => inputs.tokenId,\n            }],\n    },\n    hash: a => a,\n};\n//# sourceMappingURL=index.js.map"]}